<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- ZOOM FIX: Prevents auto-zoom on mobile inputs -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LuxeGems | Premium Jewelry Store</title>
 <!-- Favicon -->
<link rel="icon" type="image/png" sizes="16x16" href="https://i.postimg.cc/5yd47myM/IMG-4287.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://i.postimg.cc/5yd47myM/IMG-4287.png">

<!-- Android / Chrome -->
<link rel="icon" type="image/png" sizes="192x192" href="https://i.postimg.cc/5yd47myM/IMG-4287.png">

<!-- Apple iOS -->
<link rel="apple-touch-icon" sizes="180x180" href="https://i.postimg.cc/5yd47myM/IMG-4287.png">   
<meta name="description" content="LuxeGems - à¦¬à¦¾à¦‚à¦²à¦¾à¦¦à§‡à¦¶à§‡à¦° à¦¸à§‡à¦°à¦¾ à¦ªà§à¦°à¦¿à¦®à¦¿à¦¯à¦¼à¦¾à¦® à¦œà§à¦¯à¦¼à§‡à¦²à¦¾à¦°à¦¿ à¦¶à¦ªà¥¤ à¦à¦–à¦¾à¦¨à§‡ à¦ªà¦¾à¦šà§à¦›à§‡à¦¨ à¦à¦•à§à¦¸à¦•à§à¦²à§à¦¸à¦¿à¦­ à¦šà§à¦¡à¦¼à¦¿, à¦•à¦¾à¦¨à§‡à¦° à¦¦à§à¦², à¦²à¦•à§‡à¦Ÿà¥¤">
<meta name="keywords" content="jewelry, bangles, earrings, necklace, bd jewelry shop, gold plated, luxegems">
<meta name="author" content="LuxeGems Admin">

<!-- Open Graph / Facebook & WhatsApp -->
<meta property="og:title" content="LuxeGems | Premium Jewelry Store">

<!-- ðŸ‘‡ à¦¨à¦¿à¦šà§‡ à¦†à¦ªà¦¨à¦¾à¦° à¦¦à§‹à¦•à¦¾à¦¨à§‡à¦° à¦¬à¦¿à¦¬à¦°à¦£ à¦¦à¦¿à¦¨ -->
<meta property="og:description" content="à¦¸à§‡à¦°à¦¾ à¦¡à¦¿à¦œà¦¾à¦‡à¦¨à§‡à¦° à¦œà§à¦¯à¦¼à§‡à¦²à¦¾à¦°à¦¿ à¦•à¦¾à¦²à§‡à¦•à¦¶à¦¨ à¦à¦–à¦¨ à¦¹à¦¾à¦¤à§‡à¦° à¦®à§à¦ à§‹à¦¯à¦¼à¥¤ à¦†à¦œà¦‡ à¦…à¦°à§à¦¡à¦¾à¦° à¦•à¦°à§à¦¨!">

<!-- ðŸ‘‡ à¦¨à¦¿à¦šà§‡ à¦†à¦ªà¦¨à¦¾à¦° Postimages à¦à¦° à¦¡à¦¾à¦‡à¦°à§‡à¦•à§à¦Ÿ à¦²à¦¿à¦‚à¦• à¦¦à¦¿à¦¨ -->
<meta property="og:image" content="https://i.postimg.cc/DfGyJmyF/IMG-4293.jpg"> 

<!-- ðŸ‘‡ à¦¨à¦¿à¦šà§‡ à¦†à¦ªà¦¨à¦¾à¦° GitHub à¦à¦° à¦²à¦¾à¦‡à¦­ à¦²à¦¿à¦‚à¦• à¦¦à¦¿à¦¨ -->
<meta property="og:url" content="https://à¦†à¦ªà¦¨à¦¾à¦°-à¦¨à¦¾à¦®.github.io/à¦†à¦ªà¦¨à¦¾à¦°-à¦°à¦¿à¦ªà§‹-à¦¨à¦¾à¦®/">

<meta property="og:type" content="website">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lato:wght@300;400;700&family=Hind+Siliguri:wght@400;600&display=swap" rel="stylesheet">
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* ================= CSS STYLES ================= */
        :root {
            --primary: #c5a059; --dark: #1a1a1a; --light: #fcfcfc;
            --white: #ffffff; --border: #e1e1e1; --soft-bg: #fdfbf7;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { font-family: 'Lato', sans-serif; background-color: var(--white); color: var(--dark); overflow-x: hidden; }

        /* INPUT ZOOM FIX & STYLING */
        input, textarea, select { font-size: 16px !important; } /* Must be 16px to stop IOS zoom */

        h1, h2, h3, h4 { font-family: 'Playfair Display', serif; }
        button { cursor: pointer; transition: 0.3s; font-family: 'Lato', sans-serif; }
        img { max-width: 100%; display: block; }
        .price-tag { font-family: 'Hind Siliguri', sans-serif; }

        /* HEADER */
        header { background: var(--white); box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 1000; padding: 15px 0; }
        .container { width: 90%; max-width: 1200px; margin: 0 auto; }
        .nav-wrapper { display: flex; justify-content: space-between; align-items: center; gap: 20px; flex-wrap: wrap; }
        
        .logo { font-size: 24px; font-weight: 700; color: var(--dark); letter-spacing: 1px; text-decoration: none; white-space: nowrap; }
        .logo span { color: var(--primary); }

        /* SEARCH BAR */
        .search-container { flex: 1; max-width: 500px; position: relative; order: 2; }
        .search-input { 
            width: 100%; padding: 12px 40px 12px 20px; 
            border: 1px solid #ddd; border-radius: 30px; 
            outline: none; background: #f9f9f9; transition: 0.3s;
        }
        .search-input:focus { border-color: var(--primary); background: white; box-shadow: 0 0 8px rgba(197, 160, 89, 0.15); }
        .search-icon { position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: #999; pointer-events: none; }

        .nav-icons { display: flex; gap: 20px; align-items: center; order: 3; }
        .cart-icon-wrap { position: relative; cursor: pointer; font-size: 22px; transition: color 0.3s; }
        .cart-icon-wrap:hover { color: var(--primary); }
        .cart-count { position: absolute; top: -8px; right: -8px; background: var(--dark); color: white; font-size: 11px; width: 18px; height: 18px; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-weight: bold; }

        /* HERO SECTION */
        .hero { background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80'); background-size: cover; background-position: center; height: 75vh; display: flex; align-items: center; justify-content: center; text-align: center; color: white; margin-bottom: 0; }
        .hero h1 { font-size: 45px; margin-bottom: 15px; letter-spacing: 1px; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
        .hero p { font-size: 18px; font-weight: 300; letter-spacing: 2px; margin-bottom: 30px; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); }
        .hero-btn { padding: 12px 35px; background: var(--white); color: var(--dark); border: none; font-size: 14px; text-transform: uppercase; letter-spacing: 2px; text-decoration: none; font-weight: bold; border-radius: 2px; }
        .hero-btn:hover { background: var(--primary); color: white; }

        /* FEATURES SECTION */
        .features { padding: 60px 0; background-color: var(--soft-bg); text-align: center; }
        .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-top: 30px; }
        .feature-box { padding: 20px; transition: transform 0.3s; }
        .feature-box:hover { transform: translateY(-5px); }
        .feature-box i { font-size: 35px; color: var(--primary); margin-bottom: 15px; }
        .feature-box h3 { font-size: 18px; margin-bottom: 10px; font-weight: 600; }
        .feature-box p { font-size: 14px; color: #666; line-height: 1.6; }

        /* PRODUCT GRID */
        .products-section { padding: 80px 0; }
        .section-header { text-align: center; margin-bottom: 60px; }
        .section-header h2 { font-size: 38px; margin-bottom: 10px; color: var(--primary); }
        .section-header p { color: #777; font-style: italic; }
        .products-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 40px; margin-bottom: 50px; }
        
        .product-card { background: white; transition: all 0.3s ease; border: 1px solid #f0f0f0; border-radius: 8px; overflow: hidden; }
        .product-card:hover { transform: translateY(-8px); box-shadow: 0 15px 30px rgba(0,0,0,0.1); border-color: var(--primary); }
        .img-box { height: 280px; overflow: hidden; position: relative; background: #f9f9f9; }
        .product-img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s; }
        .product-card:hover .product-img { transform: scale(1.1); }
        .product-details { padding: 20px; text-align: center; }
        .product-category { font-size: 11px; text-transform: uppercase; color: var(--primary); letter-spacing: 1px; margin-bottom: 6px; font-weight: bold; }
        .product-title { font-size: 16px; font-weight: 600; margin-bottom: 10px; color: var(--dark); height: 40px; overflow: hidden; }
        .product-price { color: #444; font-size: 18px; font-weight: 700; display: block; margin-bottom: 15px; }
        .product-desc { font-size: 12px; color: #888; margin-bottom: 10px; height: 18px; overflow: hidden; }
        
        .add-to-cart-btn { width: 100%; padding: 12px; border: 1px solid var(--primary); background: white; color: var(--primary); font-size: 12px; text-transform: uppercase; letter-spacing: 1px; font-weight: bold; }
        .add-to-cart-btn:hover { background: var(--primary); color: white; }

        /* SIDEBAR CART */
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 2000; display: none; opacity: 0; transition: opacity 0.3s; }
        .overlay.active { display: block; opacity: 1; }
        
        .cart-sidebar { position: fixed; top: 0; right: -400px; width: 400px; height: 100%; background: white; z-index: 2001; transition: right 0.4s cubic-bezier(0.77, 0, 0.175, 1); display: flex; flex-direction: column; }
        .cart-sidebar.open { right: 0; }
        
        .cart-header { padding: 20px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; background: #fcfcfc; }
        .close-cart { font-size: 24px; cursor: pointer; color: #777; transition: 0.2s; }
        .close-cart:hover { color: var(--primary); transform: rotate(90deg); }
        .cart-body { flex: 1; overflow-y: auto; padding: 20px; }
        
        .cart-item { display: flex; gap: 15px; margin-bottom: 20px; border-bottom: 1px solid #f5f5f5; padding-bottom: 15px; }
        .cart-item-img { width: 65px; height: 65px; object-fit: cover; border-radius: 4px; border: 1px solid #eee; }
        .cart-item-info { flex: 1; }
        .cart-item-title { font-size: 14px; font-weight: bold; margin-bottom: 5px; color: var(--dark); }
        .cart-item-price { font-size: 13px; color: var(--primary); font-weight: bold; }
        .remove-btn { color: #e74c3c; font-size: 11px; cursor: pointer; margin-top: 5px; display: inline-block; text-transform: uppercase; font-weight: bold; }
        
        .cart-footer { padding: 25px; border-top: 1px solid var(--border); background: #fcfcfc; }
        .total-row { display: flex; justify-content: space-between; font-size: 18px; font-weight: bold; margin-bottom: 20px; }
        .checkout-btn { width: 100%; padding: 15px; background: var(--dark); color: white; border: none; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; }
        .checkout-btn:hover { background: var(--primary); }

        /* CHECKOUT MODAL */
        .checkout-modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; width: 90%; max-width: 450px; padding: 35px; z-index: 3000; display: none; border-radius: 8px; box-shadow: 0 15px 50px rgba(0,0,0,0.2); }
        .checkout-modal.active { display: block; animation: popIn 0.3s; }
        @keyframes popIn { from{transform: translate(-50%, -45%); opacity:0;} to{transform: translate(-50%, -50%); opacity:1;} }
        
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; font-size: 13px; margin-bottom: 5px; font-weight: bold; color: #555; }
        .form-group input, .form-group textarea { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 4px; font-family: inherit; }
        .form-group input:focus, .form-group textarea:focus { border-color: var(--primary); outline: none; }
        .cancel-btn { background: white; color: #777; border: 1px solid #ddd; margin-top: 10px; width: 100%; padding: 12px; font-weight: bold; cursor: pointer; }

        /* FOOTER */
        footer { background: var(--dark); color: white; padding: 50px 0; text-align: center; margin-top: 0; }
        .footer-logo { font-family: 'Playfair Display', serif; font-size: 28px; margin-bottom: 15px; display: inline-block; color: white; }
        .social-links { margin: 20px 0; }
        .social-links a { color: white; margin: 0 12px; font-size: 18px; transition: 0.3s; }
        .social-links a:hover { color: var(--primary); }
        .copyright { color: #888; font-size: 13px; }

        /* RESPONSIVE MEDIA QUERIES */
        @media (max-width: 768px) {
            .hero h1 { font-size: 32px; }
            .cart-sidebar { width: 100%; right: -100%; }
            .features-grid { grid-template-columns: 1fr; }
            .checkout-modal { width: 95%; padding: 25px; }
            
            /* Responsive Header & Search */
            .search-container { order: 3; width: 100%; max-width: 100%; margin-top: 10px; }
            .nav-wrapper { flex-wrap: wrap; }
            .nav-icons { order: 2; }
            .logo { order: 1; }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header>
        <div class="container nav-wrapper">
            <a href="#" class="logo">Luxe<span>Gems</span></a>
            
            <!-- SEARCH BAR -->
            <div class="search-container">
                <input type="text" id="search-input" class="search-input" placeholder="Search rings, bangles...">
                <i class="fas fa-search search-icon"></i>
            </div>

            <div class="nav-icons">
                <div class="cart-icon-wrap" onclick="openCart()">
                    <i class="fas fa-shopping-bag"></i>
                    <div class="cart-count" id="cart-count">0</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div>
            <h1>The Golden Aura</h1>
            <p>Exquisite Bangles, Earrings & Lockets for Her</p>
            <a href="#shop" class="hero-btn">Shop Collection</a>
        </div>
    </section>

    <!-- FEATURES SECTION -->
    <section class="features">
        <div class="container">
            <div class="features-grid">
                <div class="feature-box">
                    <i class="fas fa-gem"></i>
                    <h3>Premium Quality</h3>
                    <p>Authentic gold plated & oxidized materials designed for longevity.</p>
                </div>
                <div class="feature-box">
                    <i class="fas fa-shipping-fast"></i>
                    <h3>Fast Delivery</h3>
                    <p>Express delivery within 3-5 days across all of Bangladesh.</p>
                </div>
                <div class="feature-box">
                    <i class="fas fa-undo"></i>
                    <h3>Easy Return</h3>
                    <p>7-days replacement policy if any defect is found.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Product Section -->
    <section class="products-section" id="shop">
        <div class="container">
            <div class="section-header">
                <h2>New Arrivals</h2>
                <p>Handpicked traditional & modern jewelry for you.</p>
            </div>
            <!-- Dynamic Products Container -->
            <div class="products-grid" id="products-container">
                <p style="text-align:center; width:100%; grid-column:1/-1;">Loading products...</p>
            </div>
        </div>
    </section>

    <!-- Cart Sidebar & Overlay -->
    <div class="overlay" id="overlay" onclick="closeAll()"></div>
    
    <div class="cart-sidebar" id="cart-sidebar">
        <div class="cart-header">
            <h3>Your Bag</h3>
            <span class="close-cart" onclick="closeAll()">&times;</span>
        </div>
        <div class="cart-body" id="cart-items">
            <!-- Cart items will appear here -->
        </div>
        <div class="cart-footer">
            <div class="total-row">
                <span>Total:</span>
                <span id="cart-total" class="price-tag">à§³ 0</span>
            </div>
            <button class="checkout-btn" onclick="openCheckout()">Checkout</button>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="checkout-modal" id="checkout-modal">
        <h2 style="margin-bottom: 20px; text-align: center; font-family:'Playfair Display'; color: var(--dark);">Shipping Details</h2>
        <form id="order-form" onsubmit="processOrder(event)">
            <div class="form-group">
                <label>Full Name</label>
                <input type="text" placeholder="Your Name" required>
            </div>
            <div class="form-group">
                <label>Phone Number</label>
                <input type="tel" placeholder="017xxxxxxxx" required>
            </div>
            <div class="form-group">
                <label>Delivery Address</label>
                <textarea rows="3" placeholder="House, Road, City..." required></textarea>
            </div>
            <button type="submit" class="checkout-btn">Confirm Order</button>
            <button type="button" class="cancel-btn" onclick="closeAll()">Cancel</button>
        </form>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-logo">LuxeGems</div>
            <p>Adorning you with elegance since 2024.</p>
            <div class="social-links" id="social-links-container">
                <!-- Social Links will load from Firebase -->
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-whatsapp"></i></a>
            </div>
            <p class="copyright">&copy; 2024 LuxeGems. Developer By Prio Dolon.</p>
        </div>
    </footer>

    <!-- FIREBASE AND APP LOGIC -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, onValue, push, set } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        // ============================================
        // âš ï¸ à¦†à¦ªà¦¨à¦¾à¦° FIREBASE CONFIG à¦à¦–à¦¾à¦¨à§‡ à¦ªà§‡à¦¸à§à¦Ÿ à¦•à¦°à§à¦¨ âš ï¸
        // ============================================
        const firebaseConfig = {
            apiKey: "AIzaSyCZhwYp5vO3K2EOhgAbfJ80_PeOpwXUk0g",
            authDomain: "luxegems-shop.firebaseapp.com",
            databaseURL: "https://luxegems-shop-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "luxegems-shop",
            storageBucket: "luxegems-shop.firebasestorage.app",
            messagingSenderId: "309710517144",
            appId: "1:309710517144:web:134def85617a0d01acb1ed"

        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        // GLOBAL VARIABLES
        let allProducts = [];
        let cart = [];

        // 1. FETCH PRODUCTS FROM FIREBASE
        const productsContainer = document.getElementById('products-container');
        
        onValue(ref(db, 'products'), (snapshot) => {
            allProducts = []; // Reset list
            
            if (!snapshot.exists()) {
                productsContainer.innerHTML = "<p style='grid-column:1/-1; text-align:center; padding:20px;'>No products available. Please add from Admin Panel.</p>";
                return;
            }

            snapshot.forEach((child) => {
                const product = child.val();
                product.firebaseKey = child.key; 
                allProducts.push(product);
            });

            displayProducts(allProducts); // Initial Render
        });

        // 2. DISPLAY PRODUCTS FUNCTION (Reusable)
        function displayProducts(productList) {
            productsContainer.innerHTML = "";
            if(productList.length === 0) {
                productsContainer.innerHTML = "<p style='grid-column:1/-1; text-align:center; padding:20px;'>No products match your search.</p>";
                return;
            }

            productList.forEach(product => {
                const html = `
                    <div class="product-card">
                        <div class="img-box">
                            <img src="${product.img}" alt="${product.name}" class="product-img">
                        </div>
                        <div class="product-details">
                            <div class="product-category">${product.category}</div>
                            <h3 class="product-title">${product.name}</h3>
                            <span class="product-price price-tag">à§³${product.price}</span>
                            <div class="product-desc">${product.desc || ''}</div>
                            <button class="add-to-cart-btn" onclick="window.addToCart('${product.firebaseKey}')">Add to Bag</button>
                        </div>
                    </div>
                `;
                productsContainer.innerHTML += html;
            });
        }

        // 3. SEARCH LOGIC
        const searchInput = document.getElementById('search-input');
        searchInput.addEventListener('input', (e) => {
            const searchText = e.target.value.toLowerCase();
            const filteredProducts = allProducts.filter(product => 
                product.name.toLowerCase().includes(searchText) || 
                product.category.toLowerCase().includes(searchText)
            );
            displayProducts(filteredProducts);
        });

        // 4. FETCH SOCIAL LINKS
        onValue(ref(db, 'settings'), (snapshot) => {
            const data = snapshot.val();
            if(data) {
                const socialDiv = document.getElementById('social-links-container');
                let linksHtml = '';
                if(data.facebook) linksHtml += `<a href="${data.facebook}" target="_blank"><i class="fab fa-facebook"></i></a>`;
                if(data.instagram) linksHtml += `<a href="${data.instagram}" target="_blank"><i class="fab fa-instagram"></i></a>`;
                if(data.whatsapp) linksHtml += `<a href="${data.whatsapp}" target="_blank"><i class="fab fa-whatsapp"></i></a>`;
                if(linksHtml !== '') socialDiv.innerHTML = linksHtml;
            }
        });

        // --- EXPOSE FUNCTIONS TO WINDOW ---
        
        // ADD TO CART
        window.addToCart = function(key) {
            const product = allProducts.find(p => p.firebaseKey === key);
            if(product) {
                cart.push(product);
                updateCart();
                openCart();
            }
        };

        // REMOVE FROM CART
        window.removeFromCart = function(index) {
            cart.splice(index, 1);
            updateCart();
        };

        // UPDATE CART UI
        function updateCart() {
            document.getElementById('cart-count').innerText = cart.length;
            const total = cart.reduce((sum, item) => sum + parseInt(item.price), 0);
            document.getElementById('cart-total').innerText = 'à§³ ' + total.toLocaleString();
            
            const cartBody = document.getElementById('cart-items');
            if(cart.length === 0) {
                cartBody.innerHTML = '<p style="text-align: center; color: #999; margin-top: 50px;">Your bag is empty.</p>';
            } else {
                cartBody.innerHTML = cart.map((item, index) => `
                    <div class="cart-item">
                        <img src="${item.img}" class="cart-item-img">
                        <div class="cart-item-info">
                            <div class="cart-item-title">${item.name}</div>
                            <div class="cart-item-price price-tag">à§³${item.price}</div>
                            <div class="remove-btn" onclick="window.removeFromCart(${index})">Remove</div>
                        </div>
                    </div>
                `).join('');
            }
        }

        // PROCESS ORDER
        window.processOrder = function(e) {
            e.preventDefault();
            const btn = document.querySelector('.checkout-btn');
            const originalText = btn.innerText;
            const formInputs = document.getElementById('order-form').elements;
            
            btn.innerText = "Processing...";
            btn.disabled = true;

            const orderData = {
                customer: {
                    name: formInputs[0].value,
                    phone: formInputs[1].value,
                    address: formInputs[2].value
                },
                cart: cart,
                total: cart.reduce((sum, item) => sum + parseInt(item.price), 0),
                timestamp: Date.now()
            };

            push(ref(db, 'orders'), orderData)
            .then(() => {
                alert("ðŸŽ‰ à¦…à¦­à¦¿à¦¨à¦¨à§à¦¦à¦¨! à¦†à¦ªà¦¨à¦¾à¦° à¦…à¦°à§à¦¡à¦¾à¦°à¦Ÿà¦¿ à¦¸à¦«à¦²à¥¤");
                cart = [];
                updateCart();
                closeAll();
                document.getElementById('order-form').reset();
            })
            .catch((error) => {
                alert("Error: " + error.message);
            })
            .finally(() => {
                btn.innerText = originalText;
                btn.disabled = false;
            });
        };

        // UI HELPERS
        const cartSidebar = document.getElementById('cart-sidebar');
        const overlay = document.getElementById('overlay');
        const checkoutModal = document.getElementById('checkout-modal');

        window.openCart = () => { cartSidebar.classList.add('open'); overlay.classList.add('active'); checkoutModal.classList.remove('active'); };
        window.openCheckout = () => { 
            if(cart.length === 0) { alert("Please add items first!"); return; }
            cartSidebar.classList.remove('open'); checkoutModal.classList.add('active'); 
        };
        window.closeAll = () => { 
            cartSidebar.classList.remove('open'); overlay.classList.remove('active'); checkoutModal.classList.remove('active'); 
        };

    </script>
</body>
</html>
